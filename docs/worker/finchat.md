## 业务相关

*业务场景：多达10万+的债券代码数据（非本地文件存储，远程服务器拉取），大量数据没有增量更新接口情况下，每天早上6:00或12:00时刻进行全量数据更新缓存本地，并且需要在用户聊天的时候匹配债券代码并且高亮展示，点击匹配相应数据打开相应页面*

#### 数据拉取以及本地存储

项目实现：
- **finchat 开启开始执行 worker 任务**
1.债券域相关认证接口调用  

2.债券分页数据分布请求  

3.远程数据整合  

4.数据储存在 worker 内存中
- **信息发送成功 ---> 成功高亮展示**
1.postMessage 通知 worker 负责将聊天内容查找相应的代码匹配  

2.查找完成 worker 通过 postMessage 通知 主线程相关匹配信息

3.主线程通过 onmessage 收到相应的债券代码相关信息，高亮匹配中的聊天内容  

4.记录相关聊天消息索引，储存至 indexdb 作本地持久

<hr> 

*这样一个 worker + indexDB 的案例就大概完成了*