## worker的局限性

> 介绍worker的时候也粗略的讲了一些它自身的一些局限性，比如无法操作部分对象属性与方法

- **同源限制**  
worker线程所加载的脚本文件，必须和主线程的脚本处于同源。这样就说明不能跨域读取相应的脚本。

- **DOM 操作限制**  
worker 线程所处的全局对象，与主线程不一样，是无法读取主线程所在网页的DOM对象，也无法使用document，window，parent。但 worker 线程可以navigator和location对象。具体详情可以参照 [文档](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers)

- **通讯限制**  
worker线程和主线程不在同一个上下文环境，它们不能直接通信，worker 处于一个它自己的世界，所以它想要和外部联系，则需要和外部约定相应的通讯方式，自身和外部都需要 **接收** 和 **发送**，这样就导致交流之间产生了一种无形的成本，代码上也是如此...

- **资源消耗**  
worker 线程一旦新建成功，就会始终运行，不会被主线程上的活动（比如用户点击按钮、提交表单）打断，虽然看上去没有阻塞主线程相应活动，但是这也造成了 worker 比较耗费资源，不应该过度使用，而且一旦使用完毕，就应该关闭。

- **兼容性**  
各个浏览器对 worker 的支持也不太一样，并且每个浏览器所处的版本也有关系。